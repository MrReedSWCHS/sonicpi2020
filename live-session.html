<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Live session | Sonic Pi</title>
  <meta name="description" content="7 Live session | Sonic Pi" />
  <meta name="generator" content="bookdown 0.19 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Live session | Sonic Pi" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Live session | Sonic Pi" />
  
  
  

<meta name="author" content="Cambridge Faculty of Education Workshops 2020" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="what-next.html"/>

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#help-me"><i class="fa fa-check"></i><b>1.1</b> Help me!</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#install"><i class="fa fa-check"></i><b>1.2</b> Install</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#if-youre-on-a-mac"><i class="fa fa-check"></i><b>1.3</b> If you’re on a Mac…</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="start-here.html"><a href="start-here.html"><i class="fa fa-check"></i><b>2</b> Start here</a><ul>
<li class="chapter" data-level="2.1" data-path="start-here.html"><a href="start-here.html#sam-aaron"><i class="fa fa-check"></i><b>2.1</b> Sam Aaron</a></li>
<li class="chapter" data-level="2.2" data-path="start-here.html"><a href="start-here.html#shape-of-you"><i class="fa fa-check"></i><b>2.2</b> Shape of You</a></li>
<li class="chapter" data-level="2.3" data-path="start-here.html"><a href="start-here.html#midi-notes"><i class="fa fa-check"></i><b>2.3</b> MIDI Notes</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="note-names.html"><a href="note-names.html"><i class="fa fa-check"></i><b>3</b> Note Names</a><ul>
<li class="chapter" data-level="3.1" data-path="note-names.html"><a href="note-names.html#options-and-release"><i class="fa fa-check"></i><b>3.1</b> Options and <code>release:</code></a></li>
<li class="chapter" data-level="3.2" data-path="note-names.html"><a href="note-names.html#note-names-1"><i class="fa fa-check"></i><b>3.2</b> Note names</a></li>
<li class="chapter" data-level="3.3" data-path="note-names.html"><a href="note-names.html#note-names-2"><i class="fa fa-check"></i><b>3.3</b> Note names</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="repetition.html"><a href="repetition.html"><i class="fa fa-check"></i><b>4</b> Repetition</a><ul>
<li class="chapter" data-level="4.1" data-path="repetition.html"><a href="repetition.html#looping"><i class="fa fa-check"></i><b>4.1</b> Looping</a></li>
<li class="chapter" data-level="4.2" data-path="repetition.html"><a href="repetition.html#x.times"><i class="fa fa-check"></i><b>4.2</b> <code>x.times</code></a></li>
<li class="chapter" data-level="4.3" data-path="repetition.html"><a href="repetition.html#loop"><i class="fa fa-check"></i><b>4.3</b> <code>loop</code></a></li>
<li class="chapter" data-level="4.4" data-path="repetition.html"><a href="repetition.html#play_pattern_timed"><i class="fa fa-check"></i><b>4.4</b> <code>play_pattern_timed</code></a></li>
<li class="chapter" data-level="4.5" data-path="repetition.html"><a href="repetition.html#chords"><i class="fa fa-check"></i><b>4.5</b> Chords</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="samples.html"><a href="samples.html"><i class="fa fa-check"></i><b>5</b> Samples</a><ul>
<li class="chapter" data-level="5.1" data-path="samples.html"><a href="samples.html#race-for-space"><i class="fa fa-check"></i><b>5.1</b> Race for Space</a></li>
<li class="chapter" data-level="5.2" data-path="samples.html"><a href="samples.html#cover-versions"><i class="fa fa-check"></i><b>5.2</b> Cover versions</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="what-next.html"><a href="what-next.html"><i class="fa fa-check"></i><b>6</b> What next?</a><ul>
<li class="chapter" data-level="6.1" data-path="what-next.html"><a href="what-next.html#links"><i class="fa fa-check"></i><b>6.1</b> Links</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="live-session.html"><a href="live-session.html"><i class="fa fa-check"></i><b>7</b> Live session</a><ul>
<li class="chapter" data-level="7.1" data-path="live-session.html"><a href="live-session.html#concurrency"><i class="fa fa-check"></i><b>7.1</b> Concurrency</a></li>
<li class="chapter" data-level="7.2" data-path="live-session.html"><a href="live-session.html#rings"><i class="fa fa-check"></i><b>7.2</b> Rings</a></li>
<li class="chapter" data-level="7.3" data-path="live-session.html"><a href="live-session.html#beat-making"><i class="fa fa-check"></i><b>7.3</b> Beat making</a></li>
<li class="chapter" data-level="7.4" data-path="live-session.html"><a href="live-session.html#beat-splicing"><i class="fa fa-check"></i><b>7.4</b> Beat splicing</a></li>
<li class="chapter" data-level="7.5" data-path="live-session.html"><a href="live-session.html#links-1"><i class="fa fa-check"></i><b>7.5</b> Links</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Sonic Pi</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="live-session" class="section level1">
<h1><span class="header-section-number">7</span> Live session</h1>
<p>17th June, 10am.</p>
<div id="concurrency" class="section level2">
<h2><span class="header-section-number">7.1</span> Concurrency</h2>
<div id="at" class="section level3">
<h3><span class="header-section-number">7.1.1</span> <code>at</code></h3>
<p>Give specific timings for threads (in a do/end block)</p>
<pre><code>at 1 do
  sample :bd_mehackit
end

at 2 do
  sample :drum_snare_hard
end

at 2.5 do
  sample :drum_cymbal_closed
end</code></pre>
<p>Or, play at multiple times using an array</p>
<pre><code>at [1, 2, 4] do 
    play 75          
end</code></pre>
</div>
<div id="in_thread" class="section level3">
<h3><span class="header-section-number">7.1.2</span> <code>in_thread</code></h3>
<p><code>in_thread</code> causes that thread to run at the same time as the next thread.</p>
<pre><code>in_thread do
  loop do
    play 70
    sleep 1
  end
end

loop do
  play 80
  sleep 1
end</code></pre>
</div>
<div id="live_loop" class="section level3">
<h3><span class="header-section-number">7.1.3</span> <code>live_loop</code></h3>
<p><code>live_loop</code> is more powerful than <code>in_thread</code>. You do have to give the loop a name, e.g. <code>:name</code>. Every time you run the code, the loop will be updated.</p>
<p>This means you can play it <strong>live as an instrument</strong>.</p>
<pre><code>live_loop :name do
  play 70
  sleep 1
end</code></pre>
</div>
</div>
<div id="rings" class="section level2">
<h2><span class="header-section-number">7.2</span> Rings</h2>
<p>You can play a chord by listing several notes with square brackets and commas:</p>
<p><code>play [:c4, :e4, :g4]</code></p>
<p>You can play one note after the other by ‘ticking’ through it:</p>
<pre><code>loop do
  play [:c4, :e4, :g4].tick
  sleep 0.5
end</code></pre>
<p>Each loop causes the tick to increase. This can be useful for creating beats too…</p>
</div>
<div id="beat-making" class="section level2">
<h2><span class="header-section-number">7.3</span> Beat making</h2>
<div id="ring" class="section level3">
<h3><span class="header-section-number">7.3.1</span> Ring</h3>
<ol style="list-style-type: decimal">
<li>I can tick through a ring
<ul>
<li>This means each time the loop repeats, a different value is used</li>
</ul></li>
<li>I can use the <code>amp:</code> option at 0 for no beat and 1 for a beat</li>
<li>Or use more subtle numbers for accents and ghost notes?!! ♫♪</li>
</ol>
<pre><code>use_bpm 100
live_loop :beat do
  sample :bd_mehackit, amp: [1,0,1,0,1,1,0,1,0,1,0,1,1,0,1,1].tick
  sample :drum_snare_hard, amp: [0,0,0,0,0.75,0,0,1].look
  sleep 0.25
end</code></pre>
<div class="warning">
<p>If you want to refer to the tick multiple times <strong>you must use <code>.look</code> instead</strong>.</p>
<p>This is because the <code>.tick</code> doesn’t just <em>use</em> the tick, it <em>increases</em> the tick by 1. You don’t want it to increase more than once every loop (I imagine).</p>
</div>
</div>
<div id="variables" class="section level3">
<h3><span class="header-section-number">7.3.2</span> Variables</h3>
<p>Typing out those numbers each time is a pain. Let’s define a variable.</p>
<pre><code>r1 = [1,0,1,0,1,1,0,1,0,1,0,1,1,0,1,1]

use_bpm 100
live_loop :beat do
  sample :bd_mehackit, amp: r1.tick
  sleep 0.25
end</code></pre>
<p>Here, the variable <code>r1</code> is defined as the list of 0s and 1s. You can now use <code>r1</code> in several places without typing it all again. Or perhaps define a series of rhythms at the top of your code for easy access and live manipulation.</p>
</div>
<div id="randomisation" class="section level3">
<h3><span class="header-section-number">7.3.3</span> Randomisation</h3>
<p>If you can use a ring with <code>amp:</code>, why even bother making a rhythm? Let’s go random.</p>
<p><code>rrand(x, y)</code> spits out a random number between x and y</p>
<p><code>rrand_i(x, y)</code> spits out a random integer (whole number) between x and y</p>
<p><code>rand()</code> outputs a random number between 0 and 1. Perfect for the <code>amp:</code> option.</p>
<pre><code>sample :drum_cymbal_closed, amp: rrand(0.1, 0.4)</code></pre>
</div>
<div id="probability" class="section level3">
<h3><span class="header-section-number">7.3.4</span> Probability</h3>
<p>Random, but with a greater probability of certain outcomes. So maybe a closed hi-hat is more likely than an open hi-hat, but you’re never <em>quite</em> sure where the open is going to come (and this time not just because the drummer can’t count).</p>
</div>
</div>
<div id="beat-splicing" class="section level2">
<h2><span class="header-section-number">7.4</span> Beat splicing</h2>
<div id="getting-the-loop-right" class="section level3">
<h3><span class="header-section-number">7.4.1</span> Getting the loop right</h3>
<p>There are some great sample loops in Sonic Pi.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>Use <code>sleep sample_duration</code> to loop the sample exactly when it’s over.</p>
<pre><code>live_loop :drums do
  sample :loop_amen
  sleep sample_duration :loop_amen
end</code></pre>
<p>This isn’t very musical. Use the sample <code>beat_stretch:</code> option to fit it to an exact number of beats. It’s useful if you know how long the loop is in advance. <code>:loop_amen</code> is 4 beats long.</p>
<pre><code>use_bpm 120

live_loop :drums do
  sample :loop_amen, beat_stretch: 4
  sleep 4
end</code></pre>
</div>
<div id="slice" class="section level3">
<h3><span class="header-section-number">7.4.2</span> <code>slice:</code></h3>
<p>This video is a great example:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/C82qCg_V70Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Use the sample <code>slice:</code> option to play one 1/16th slice of the sample.</p>
<p>(By default, the sample is split into 16 equal parts, but you can change that too using the <code>num_slices:</code> option)</p>
<pre><code>live_loop :drums do
  sample :loop_amen, slice: 0
  sleep 0.5
end</code></pre>
<p>Pick specific slices:</p>
<pre><code>live_loop :drums do
  sample :loop_amen, slice: [0,4,6,7].choose
  sleep 0.125
end</code></pre>
<p>or even random slices using</p>
<pre><code>live_loop :drums do
  sample :loop_amen, slice: choose
  sleep 0.125
end</code></pre>
</div>
<div id="onset" class="section level3">
<h3><span class="header-section-number">7.4.3</span> <code>onset:</code></h3>
<p>Even better, Sonic Pi has <strong>transient detection</strong>. This works out where the drum hits are by analysing the wave.</p>
<p>So <code>onset: 0</code> should be the first hit, then <code>onset: 1</code> the next, then <code>onset: 2</code> after that, etc.</p>
<pre><code>use_bpm 150
live_loop :jungle do
  sample :loop_amen, onset: choose
  sleep 0.5
end</code></pre>
</div>
</div>
<div id="links-1" class="section level2">
<h2><span class="header-section-number">7.5</span> Links</h2>
<ul>
<li><a href="https://github.com/mbutz/sonic-pi-resources/blob/master/drum-loops-with-fill-ins.rb">Great drum slicing examples</a></li>
</ul>
<!--

Resources for our live session next week.

<a href="handout.html">Handout</a>

## Live coding

My primitive attempts:

<iframe width="560" height="315" src="https://www.youtube.com/embed/sJJRcW7z1V8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Defining variables

...and their creative use in live looping.

<iframe width="560" height="315" src="https://www.youtube.com/embed/rEd58lE2H-Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

-->

</div>
</div>






<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>By the way, the <code>sample</code> command has its own in-built compressor, envelope, LPF, HPF, filter envelope, pitch and tempo stretching, slicing and transient detection.<a href="live-session.html#fnref1" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="what-next.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
